{"version":3,"sources":["webpack://ReactSimpleChatbot/webpack/universalModuleDefinition","webpack://ReactSimpleChatbot/webpack/bootstrap","webpack://ReactSimpleChatbot/./node_modules/prop-types/index.js","webpack://ReactSimpleChatbot/external \"react\"","webpack://ReactSimpleChatbot/external \"styled-components\"","webpack://ReactSimpleChatbot/./node_modules/flatted/cjs/index.js","webpack://ReactSimpleChatbot/./node_modules/random-id/randomID.js","webpack://ReactSimpleChatbot/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://ReactSimpleChatbot/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://ReactSimpleChatbot/./lib/common/rgba.js","webpack://ReactSimpleChatbot/./lib/common/animations.jsx","webpack://ReactSimpleChatbot/./lib/steps_components/common/LoadingStep.jsx","webpack://ReactSimpleChatbot/./lib/steps_components/common/Loading.jsx","webpack://ReactSimpleChatbot/./lib/steps_components/custom/CustomStepContainer.jsx","webpack://ReactSimpleChatbot/./lib/steps_components/custom/CustomStep.jsx","webpack://ReactSimpleChatbot/./lib/steps_components/options/Option.jsx","webpack://ReactSimpleChatbot/./lib/theme.js","webpack://ReactSimpleChatbot/./lib/steps_components/options/OptionElement.jsx","webpack://ReactSimpleChatbot/./lib/steps_components/options/Options.jsx","webpack://ReactSimpleChatbot/./lib/steps_components/options/OptionsStepContainer.jsx","webpack://ReactSimpleChatbot/./lib/steps_components/options/OptionsStep.jsx","webpack://ReactSimpleChatbot/./lib/steps_components/text/Bubble.jsx","webpack://ReactSimpleChatbot/./lib/steps_components/text/Image.jsx","webpack://ReactSimpleChatbot/./lib/steps_components/text/ImageContainer.jsx","webpack://ReactSimpleChatbot/./lib/steps_components/text/TextStepContainer.jsx","webpack://ReactSimpleChatbot/./lib/steps_components/common/TimeStamp.jsx","webpack://ReactSimpleChatbot/./lib/steps_components/text/TextStep.jsx","webpack://ReactSimpleChatbot/./lib/schemas/userSchema.js","webpack://ReactSimpleChatbot/./lib/schemas/textSchema.js","webpack://ReactSimpleChatbot/./lib/schemas/optionsSchema.js","webpack://ReactSimpleChatbot/./lib/schemas/customSchema.js","webpack://ReactSimpleChatbot/./lib/schemas/updateSchema.js","webpack://ReactSimpleChatbot/./lib/schemas/schema.js","webpack://ReactSimpleChatbot/./lib/components/ChatBotContainer.jsx","webpack://ReactSimpleChatbot/./lib/components/Content.jsx","webpack://ReactSimpleChatbot/./lib/components/Header.jsx","webpack://ReactSimpleChatbot/./lib/components/HeaderTitle.jsx","webpack://ReactSimpleChatbot/./lib/components/HeaderIcon.jsx","webpack://ReactSimpleChatbot/./lib/components/FloatButton.jsx","webpack://ReactSimpleChatbot/./lib/components/FloatingIcon.jsx","webpack://ReactSimpleChatbot/./lib/components/Footer.jsx","webpack://ReactSimpleChatbot/./lib/components/Input.jsx","webpack://ReactSimpleChatbot/./lib/components/SubmitButton.jsx","webpack://ReactSimpleChatbot/./lib/recognition.js","webpack://ReactSimpleChatbot/./lib/icons/ChatIcon.jsx","webpack://ReactSimpleChatbot/./lib/icons/CloseIcon.jsx","webpack://ReactSimpleChatbot/./lib/icons/SubmitIcon.jsx","webpack://ReactSimpleChatbot/./lib/icons/MicIcon.jsx","webpack://ReactSimpleChatbot/./lib/utils.js","webpack://ReactSimpleChatbot/./lib/speechSynthesis.js","webpack://ReactSimpleChatbot/./lib/components/CurrentDate.jsx","webpack://ReactSimpleChatbot/./lib/ChatBot.jsx","webpack://ReactSimpleChatbot/./lib/storage.js","webpack://ReactSimpleChatbot/./lib/index.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Flatted","Primitive","primitive","parse","text","reviver","input","JSON","Primitives","map","primitives","$","noop","tmp","revive","parsed","output","keys","reduce","has","add","Set","stringify","replacer","space","firstRun","known","Map","k","v","indexOf","set","replace","after","length","join","index","push","String","len","pattern","possibilities","chars","split","forEach","a","isNaN","parseInt","test","result","charAt","Math","floor","random","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","err","Error","getShim","isRequired","ReactPropTypes","array","bool","func","number","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","hexToRgb","hex","g","b","exec","rgba","alpha","color","loading","keyframes","scale","invalidInput","LoadingStep","styled","span","delay","Loading","className","ChatStepContainer","div","CustomStep","step","steps","previousStep","triggerNextStep","component","React","cloneElement","speak","previousValue","waitAction","setTimeout","setState","rendered","state","style","CustomStepContainer","renderComponent","Component","propTypes","defaultProps","Option","li","background","fontFamily","headerBgColor","headerFontColor","headerFontSize","botBubbleColor","botFontColor","userBubbleColor","userFontColor","OptionElement","button","theme","defaultTheme","Options","ul","OptionsStepContainer","OptionsStep","option","bubbleOptionStyle","user","label","onClick","onOptionClick","options","renderOption","Bubble","isFirst","isLast","showAvatar","Image","img","ImageContainer","TextStepContainer","TimeStamp","nowDate","useMemo","Date","toLocaleTimeString","width","marginTop","float","fontSize","TextStep","message","getMessage","isComponentWatingUser","avatarStyle","bubbleStyle","hideBotAvatar","hideUserAvatar","avatar","botName","imageAltText","src","alt","renderMessage","height","display","types","required","schema","parser","userSchema","textSchema","optionsSchema","customSchema","update","updateSchema","console","error","id","checkInvalidIds","triggerId","trigger","optionsTriggerIds","filter","optionTriggerId","ChatBotContainer","floating","floatingStyle","bottom","top","right","left","opened","transformOrigin","Content","hideInput","Header","HeaderTitle","h2","HeaderIcon","FloatButton","FloatingIcon","Footer","Input","invalid","css","disabled","SubmitButton","speaking","instance","Recognition","onChange","onEnd","onStop","lang","inputValue","onResult","setup","window","interimTranscript","finalTranscript","recognition","stop","force","event","resultIndex","results","isFinal","transcript","onFinal","nextState","isSupported","webkitSpeechRecognition","continuous","interimResults","onresult","onend","start","ChatIcon","viewBox","xmlns","fill","CloseIcon","fillRule","clipRule","SubmitIcon","size","MicIcon","version","isMobile","navigator","userAgent","isString","speakFn","speechSynthesisOptions","voice","enable","SpeechSynthesisUtterance","speechSynthesis","metadata","getSpeakText","msg","CurrentDate","toLocaleDateString","justifyContent","marginBottom","backgroundColor","borderRadius","paddingLeft","paddingRight","ChatBot","target","currentTarget","enableSmoothScroll","supportsScrollBehavior","scroll","scrollHeight","behavior","scrollTop","content","handleSubmitButton","generateRenderedStepsById","previousSteps","lastStepIndex","data","enableMobileAutoFocus","defaultUserSettings","renderedSteps","currentStep","isEnd","end","hideExtraControl","getTriggeredStep","handleEnd","pop","nextStep","getStepMessage","updateStep","Random","focus","cache","cacheName","cachedData","localStorage","setItem","storage","values","stepIndex","asMessage","lastStep","submitUserMessage","recognitionEnable","isInputValueEmpty","validator","checkInvalidInput","blur","toString","inputInvalid","toggleFloating","customStyle","isFirstPosition","isLastPosition","setContentRef","setInputRef","undefined","botDelay","botAvatar","customDelay","userAvatar","chatSteps","defaultBotSettings","userDelay","defaultCustomSettings","settings","firstStep","recognitionLang","onRecognitionChange","onRecognitionEnd","onRecognitionStop","document","documentElement","addEventListener","onNodeInserted","onResize","params","callback","unParsedCache","getItem","renderedStep","removeItem","info","removeEventListener","customControl","contentStyle","extraControl","controlStyle","floatingIcon","footerStyle","headerComponent","headerTitle","hideHeader","hideSubmitButton","inputStyle","placeholder","inputAttributes","recognitionPlaceholder","submitButtonStyle","header","textAlign","flex","alignSelf","toggleChatBot","icon","inputPlaceholder","inputAttributesOverride","ref","renderStep","type","onKeyPress","handleKeyPress","onValueChange","hasButton","SpeechSynthesisVoice","position"],"mappings":"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","file":"react-simple-chatbot.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"styled-components\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"styled-components\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactSimpleChatbot\"] = factory(require(\"react\"), require(\"styled-components\"));\n\telse\n\t\troot[\"ReactSimpleChatbot\"] = factory(root[\"react\"], root[\"styled-components\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","var Flatted = (function (Primitive, primitive) {\n\n  /*!\n   * ISC License\n   *\n   * Copyright (c) 2018, Andrea Giammarchi, @WebReflection\n   *\n   * Permission to use, copy, modify, and/or distribute this software for any\n   * purpose with or without fee is hereby granted, provided that the above\n   * copyright notice and this permission notice appear in all copies.\n   *\n   * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n   * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n   * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n   * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n   * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n   * OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n   * PERFORMANCE OF THIS SOFTWARE.\n   */\n\n  var Flatted = {\n\n    parse: function parse(text, reviver) {\n      var input = JSON.parse(text, Primitives).map(primitives);\n      var value = input[0];\n      var $ = reviver || noop;\n      var tmp = typeof value === 'object' && value ?\n                  revive(input, new Set, value, $) :\n                  value;\n      return $.call({'': tmp}, '', tmp);\n    },\n\n    stringify: function stringify(value, replacer, space) {\n      for (var\n        firstRun,\n        known = new Map,\n        input = [],\n        output = [],\n        $ = replacer && typeof replacer === typeof input ?\n              function (k, v) {\n                if (k === '' || -1 < replacer.indexOf(k)) return v;\n              } :\n              (replacer || noop),\n        i = +set(known, input, $.call({'': value}, '', value)),\n        replace = function (key, value) {\n          if (firstRun) {\n            firstRun = !firstRun;\n            return value;\n          }\n          var after = $.call(this, key, value);\n          switch (typeof after) {\n            case 'object':\n              if (after === null) return after;\n            case primitive:\n              return known.get(after) || set(known, input, after);\n          }\n          return after;\n        };\n        i < input.length; i++\n      ) {\n        firstRun = true;\n        output[i] = JSON.stringify(input[i], replace, space);\n      }\n      return '[' + output.join(',') + ']';\n    }\n\n  };\n\n  return Flatted;\n\n  function noop(key, value) {\n    return value;\n  }\n\n  function revive(input, parsed, output, $) {\n    return Object.keys(output).reduce(\n      function (output, key) {\n        var value = output[key];\n        if (value instanceof Primitive) {\n          var tmp = input[value];\n          if (typeof tmp === 'object' && !parsed.has(tmp)) {\n            parsed.add(tmp);\n            output[key] = $.call(output, key, revive(input, parsed, tmp, $));\n          } else {\n            output[key] = $.call(output, key, tmp);\n          }\n        } else\n          output[key] = $.call(output, key, value);\n        return output;\n      },\n      output\n    );\n  }\n\n  function set(known, input, value) {\n    var index = Primitive(input.push(value) - 1);\n    known.set(value, index);\n    return index;\n  }\n\n  // the two kinds of primitives\n  //  1. the real one\n  //  2. the wrapped one\n\n  function primitives(value) {\n    return value instanceof Primitive ? Primitive(value) : value;\n  }\n\n  function Primitives(key, value) {\n    return typeof value === primitive ? new Primitive(value) : value;\n  }\n\n}(String, 'string'));\nmodule.exports = Flatted;\n","(function(){\n\tvar randomID = function(len,pattern){\n\t\tvar possibilities = [\"abcdefghijklmnopqrstuvwxyz\",\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\", \"0123456789\", \"~!@#$%^&()_+-={}[];\\',\"];\n\t\tvar chars = \"\";\n\n\t\tvar pattern = pattern ? pattern : \"aA0\";\n\t\tpattern.split('').forEach(function(a){\n\t\t\tif(!isNaN(parseInt(a))){\n\t\t\t\tchars += possibilities[2];\n\t\t\t}else if(/[a-z]/.test(a)){\n\t\t\t\tchars += possibilities[0];\n\t\t\t}else if(/[A-Z]/.test(a)){\n\t\t\t\tchars += possibilities[1];\n\t\t\t}else{\n\t\t\t\tchars += possibilities[3];\n\t\t\t}\n\t\t});\n\t\t\n\t\tvar len = len ? len : 30;\n\n\t\tvar result = '';\n\n\t\twhile(len--){ \n\t\t\tresult += chars.charAt(Math.floor(Math.random() * chars.length)); \n\t\t};\n\n\t\treturn result;\n\t};\n\n\tif(typeof module !== \"undefined\" && typeof require !== \"undefined\"){\n\t\tmodule.exports = randomID;\n\t} else {\n\t\twindow[\"randomID\"] = randomID;\n\t};\n\n})();","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","const hexToRgb = hex => {\n  // http://stackoverflow.com/a/5624139\n  const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  hex = hex.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result\n    ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n      }\n    : null;\n};\n\n/**\n * Transform hex+alpha to rgba\n * @param {string} hex hex color code\n * @param {number} [alpha=1]\n * @returns {string} the rgba as string\n */\nconst rgba = (hex, alpha = 1) => {\n  const color = hexToRgb(hex);\n  return `rgba(${color.r}, ${color.g}, ${color.b}, ${alpha})`;\n};\n\nexport default rgba;\n","import { keyframes } from 'styled-components';\nimport rgba from './rgba';\n\nconst loading = keyframes`\n  0% { opacity: .2; }\n  20% { opacity: 1; }\n  100% { opacity: .2; }\n`;\n\nconst scale = keyframes`\n  100% { transform: scale(1); }\n`;\n\nconst invalidInput = keyframes`\n  25% { transform: rotate(-1deg); }\n  100% { transform: rotate(1deg); }\n`;\n\nconst pulse = color => keyframes`\n  0% { box-shadow: 0 0 0 0 ${rgba(color, 0.4)}; }\n  70% { box-shadow: 0 0 0 10px ${rgba(color, 0)}; }\n  100% { box-shadow: 0 0 0 0 ${rgba(color, 0)}; }\n`;\n\nexport { loading, scale, invalidInput, pulse };\n","import styled from 'styled-components';\nimport { loading } from '../../common/animations';\n\nconst LoadingStep = styled.span`\n  animation: ${loading} 1.4s infinite both;\n  animation-delay: ${props => props.delay};\n`;\n\nexport default LoadingStep;\n","import React from 'react';\nimport LoadingStep from './LoadingStep';\n\nconst Loading = () => (\n  <span className=\"rsc-loading\">\n    <LoadingStep delay=\"0s\">.</LoadingStep>\n    <LoadingStep delay=\".2s\">.</LoadingStep>\n    <LoadingStep delay=\".4s\">.</LoadingStep>\n  </span>\n);\n\nexport default Loading;\n","import styled from 'styled-components';\n\nconst ChatStepContainer = styled.div`\n  background: #fff;\n  border-radius: 5px;\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 1px 2px 0px;\n  display: flex;\n  justify-content: center;\n  margin: 0 6px 10px 6px;\n  padding: 16px;\n`;\n\nexport default ChatStepContainer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../common/Loading';\nimport CustomStepContainer from './CustomStepContainer';\n\nclass CustomStep extends Component {\n  state = {\n    loading: true\n  };\n\n  componentDidMount() {\n    const { speak, step, previousValue, triggerNextStep } = this.props;\n    const { delay, waitAction } = step;\n\n    setTimeout(() => {\n      this.setState({ loading: false }, () => {\n        if (!waitAction && !step.rendered) {\n          triggerNextStep();\n        }\n        speak(step, previousValue);\n      });\n    }, delay);\n  }\n\n  renderComponent = () => {\n    const { step, steps, previousStep, triggerNextStep } = this.props;\n    const { component } = step;\n\n    return React.cloneElement(component, {\n      step,\n      steps,\n      previousStep,\n      triggerNextStep\n    });\n  };\n\n  render() {\n    const { loading } = this.state;\n    const { style } = this.props;\n\n    return (\n      <CustomStepContainer className=\"rsc-cs\" style={style}>\n        {loading ? <Loading /> : this.renderComponent()}\n      </CustomStepContainer>\n    );\n  }\n}\n\nCustomStep.propTypes = {\n  previousStep: PropTypes.objectOf(PropTypes.any).isRequired,\n  previousValue: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n    PropTypes.number,\n    PropTypes.object,\n    PropTypes.array\n  ]),\n  speak: PropTypes.func,\n  step: PropTypes.objectOf(PropTypes.any).isRequired,\n  steps: PropTypes.objectOf(PropTypes.any).isRequired,\n  style: PropTypes.objectOf(PropTypes.any).isRequired,\n  triggerNextStep: PropTypes.func.isRequired\n};\nCustomStep.defaultProps = {\n  previousValue: '',\n  speak: () => {}\n};\n\nexport default CustomStep;\n","import styled from 'styled-components';\nimport { scale } from '../../common/animations';\n\nconst Option = styled.li`\n  animation: ${scale} 0.3s ease forwards;\n  cursor: pointer;\n  display: inline-block;\n  margin: 2px;\n  transform: scale(0);\n`;\n\nexport default Option;\n","export default {\n  background: '#f5f8fb',\n  fontFamily: 'monospace',\n  headerBgColor: '#6e48aa',\n  headerFontColor: '#fff',\n  headerFontSize: '16px',\n  botBubbleColor: '#6E48AA',\n  botFontColor: '#fff',\n  userBubbleColor: '#fff',\n  userFontColor: '#4a4a4a'\n};\n","import styled from 'styled-components';\nimport defaultTheme from '../../theme';\n\nconst OptionElement = styled.button`\n  background: ${({ theme }) => theme.botBubbleColor};\n  border: 0;\n  border-radius: 22px;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.15);\n  color: ${({ theme }) => theme.botFontColor};\n  display: inline-block;\n  font-size: 14px;\n  padding: 12px;\n\n  &:hover {\n    opacity: 0.7;\n  }\n  &:active,\n  &:hover:focus {\n    outline: none;\n  }\n`;\n\nOptionElement.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default OptionElement;\n","import styled from 'styled-components';\n\nconst Options = styled.ul`\n  margin: 2px 0 12px 0;\n  padding: 0 6px;\n`;\n\nexport default Options;\n","import styled from 'styled-components';\n\nconst OptionsStepContainer = styled.div``;\n\nexport default OptionsStepContainer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Option from './Option';\nimport OptionElement from './OptionElement';\nimport Options from './Options';\nimport OptionsStepContainer from './OptionsStepContainer';\n\nclass OptionsStep extends Component {\n  onOptionClick = ({ value }) => {\n    const { triggerNextStep } = this.props;\n\n    triggerNextStep({ value });\n  };\n\n  renderOption = option => {\n    const { bubbleOptionStyle, step } = this.props;\n    const { user } = step;\n    const { value, label } = option;\n\n    return (\n      <Option key={value} className=\"rsc-os-option\">\n        <OptionElement\n          className=\"rsc-os-option-element\"\n          style={bubbleOptionStyle}\n          user={user}\n          onClick={() => this.onOptionClick({ value })}\n        >\n          {label}\n        </OptionElement>\n      </Option>\n    );\n  };\n\n  render() {\n    const { step } = this.props;\n    const { options } = step;\n\n    return (\n      <OptionsStepContainer className=\"rsc-os\">\n        <Options className=\"rsc-os-options\">\n          {Object.keys(options)\n            .map(key => options[key])\n            .map(this.renderOption)}\n        </Options>\n      </OptionsStepContainer>\n    );\n  }\n}\n\nOptionsStep.propTypes = {\n  bubbleOptionStyle: PropTypes.objectOf(PropTypes.any).isRequired,\n  step: PropTypes.objectOf(PropTypes.any).isRequired,\n  triggerNextStep: PropTypes.func.isRequired\n};\n\nexport default OptionsStep;\n","import styled from 'styled-components';\nimport { scale } from '../../common/animations';\nimport defaultTheme from '../../theme';\n\nconst Bubble = styled.div`\n  animation: ${scale} 0.3s ease forwards;\n  background: ${props => (props.user ? props.theme.userBubbleColor : props.theme.botBubbleColor)};\n  border-radius: ${props => {\n    const { isFirst, isLast, user } = props;\n\n    if (!isFirst && !isLast) {\n      return user ? '18px 0 0 18px' : '0 18px 18px 0px';\n    }\n\n    if (!isFirst && isLast) {\n      return user ? '18px 0 18px 18px' : '0 18px 18px 18px';\n    }\n\n    return props.user ? '18px 18px 0 18px' : '18px 18px 18px 0';\n  }};\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.15);\n  color: ${props => (props.user ? props.theme.userFontColor : props.theme.botFontColor)};\n  display: inline-block;\n  font-size: 14px;\n  max-width: 70%;\n  margin: ${props => {\n    const { isFirst, showAvatar, user } = props;\n\n    if (!isFirst && showAvatar) {\n      return user ? '-8px 46px 10px 0' : '-8px 0 10px 46px';\n    }\n\n    if (!isFirst && !showAvatar) {\n      return user ? '-8px 0px 10px 0' : '-8px 0 10px 0px';\n    }\n\n    return '0 0 10px 0';\n  }};\n  overflow: hidden;\n  position: relative;\n  padding: 12px;\n  transform: scale(0);\n  transform-origin: ${props => {\n    const { isFirst, user } = props;\n\n    if (isFirst) {\n      return user ? 'bottom right' : 'bottom left';\n    }\n\n    return user ? 'top right' : 'top left';\n  }};\n`;\n\nBubble.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default Bubble;\n","import styled from 'styled-components';\nimport { scale } from '../../common/animations';\n\nconst Image = styled.img`\n  animation: ${scale} 0.3s ease forwards;\n  border-radius: ${props => (props.user ? '50% 50% 50% 50%' : '50% 50% 50% 50%')};\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 1px 2px 0px;\n  height: 50px;\n  min-width: 50px;\n  padding: 3px;\n  transform: scale(0);\n  transform-origin: ${props => (props.user ? 'bottom left' : 'bottom right')};\n  width: 50;\n`;\n\nexport default Image;\n","import styled from 'styled-components';\n\nconst ImageContainer = styled.div`\n  display: inline-block;\n  order: ${props => (props.user ? '1' : '0')};\n  padding: 6px;\n`;\n\nexport default ImageContainer;\n","import styled from 'styled-components';\n\nconst TextStepContainer = styled.div`\n  align-items: flex-end;\n  display: flex;\n  justify-content: ${props => (props.user ? 'flex-end' : 'flex-start')};\n`;\n\nexport default TextStepContainer;\n","import React, { Fragment, useMemo } from 'react';\nimport PropTypes from 'prop-types';\n\nconst TimeStamp = ({ user }) => {\n  const nowDate = useMemo(() => new Date().toLocaleTimeString(), []);\n\n  const color = user ? '#FBA90A' : 'grey';\n\n  return (\n    <Fragment>\n      <div style={{ width: '100%', marginTop: '3px' }}>\n        <span style={{ float: 'right', fontSize: 'x-small', color }}>{nowDate}</span>\n      </div>\n    </Fragment>\n  );\n};\n\nTimeStamp.propTypes = {\n  user: PropTypes.bool.isRequired\n};\n\nexport default TimeStamp;\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Bubble from './Bubble';\nimport Image from './Image';\nimport ImageContainer from './ImageContainer';\nimport Loading from '../common/Loading';\nimport TextStepContainer from './TextStepContainer';\nimport TimeStamp from '../common/TimeStamp';\n\nclass TextStep extends Component {\n  /* istanbul ignore next */\n  state = {\n    loading: true\n  };\n\n  componentDidMount() {\n    const { step, speak, previousValue, triggerNextStep } = this.props;\n    const { component, delay, waitAction } = step;\n    const isComponentWatingUser = component && waitAction;\n\n    setTimeout(() => {\n      this.setState({ loading: false }, () => {\n        if (!isComponentWatingUser && !step.rendered) {\n          triggerNextStep();\n        }\n        speak(step, previousValue);\n      });\n    }, delay);\n  }\n\n  getMessage = () => {\n    const { previousValue, step } = this.props;\n    const { message } = step;\n\n    return message ? message.replace(/{previousValue}/g, previousValue) : '';\n  };\n\n  renderMessage = () => {\n    const { step, steps, previousStep, triggerNextStep } = this.props;\n    const { component } = step;\n\n    if (component) {\n      return React.cloneElement(component, {\n        step,\n        steps,\n        previousStep,\n        triggerNextStep\n      });\n    }\n\n    return this.getMessage();\n  };\n\n  render() {\n    const {\n      step,\n      isFirst,\n      isLast,\n      avatarStyle,\n      bubbleStyle,\n      hideBotAvatar,\n      hideUserAvatar\n    } = this.props;\n    const { loading } = this.state;\n    const { avatar, user, botName } = step;\n\n    const showAvatar = user ? !hideUserAvatar : !hideBotAvatar;\n\n    const imageAltText = user ? 'Your avatar' : `${botName}'s avatar`;\n\n    return (\n      <Fragment>\n        <TextStepContainer className={`rsc-ts ${user ? 'rsc-ts-user' : 'rsc-ts-bot'}`} user={user}>\n          <ImageContainer className=\"rsc-ts-image-container\" user={user}>\n            {isFirst && showAvatar && (\n              <Image\n                className=\"rsc-ts-image\"\n                style={avatarStyle}\n                showAvatar={showAvatar}\n                user={user}\n                src={avatar}\n                alt={imageAltText}\n              />\n            )}\n          </ImageContainer>\n          <Bubble\n            className=\"rsc-ts-bubble\"\n            style={bubbleStyle}\n            user={user}\n            showAvatar={showAvatar}\n            isFirst={isFirst}\n            isLast={isLast}\n          >\n            {loading ? <Loading /> : this.renderMessage()}\n            <div style={{ width: '20px', height: '10px', display: 'inline-block' }} />\n            {loading ? '' : <TimeStamp user={user} />}\n          </Bubble>\n        </TextStepContainer>\n      </Fragment>\n    );\n  }\n}\n\nTextStep.propTypes = {\n  avatarStyle: PropTypes.objectOf(PropTypes.any).isRequired,\n  isFirst: PropTypes.bool.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  bubbleStyle: PropTypes.objectOf(PropTypes.any).isRequired,\n  hideBotAvatar: PropTypes.bool.isRequired,\n  hideUserAvatar: PropTypes.bool.isRequired,\n  previousStep: PropTypes.objectOf(PropTypes.any),\n  previousValue: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n    PropTypes.number,\n    PropTypes.object,\n    PropTypes.array\n  ]),\n  speak: PropTypes.func,\n  step: PropTypes.objectOf(PropTypes.any).isRequired,\n  steps: PropTypes.objectOf(PropTypes.any),\n  triggerNextStep: PropTypes.func.isRequired\n};\n\nTextStep.defaultProps = {\n  previousStep: {},\n  previousValue: '',\n  speak: () => {},\n  steps: {}\n};\n\nexport default TextStep;\n","export default [\n  {\n    key: 'id',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'user',\n    types: ['boolean'],\n    required: true\n  },\n  {\n    key: 'hideExtraControl',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'trigger',\n    types: ['string', 'number', 'function'],\n    required: false\n  },\n  {\n    key: 'validator',\n    types: ['function'],\n    required: false\n  },\n  {\n    key: 'end',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'placeholder',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'inputAttributes',\n    types: ['object'],\n    required: false\n  },\n  {\n    key: 'metadata',\n    types: ['object'],\n    required: false\n  }\n];\n","export default [\n  {\n    key: 'id',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'message',\n    types: ['string', 'function'],\n    required: true\n  },\n  {\n    key: 'avatar',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'trigger',\n    types: ['string', 'number', 'function'],\n    required: false\n  },\n  {\n    key: 'delay',\n    types: ['number'],\n    required: false\n  },\n  {\n    key: 'end',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'placeholder',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'hideInput',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'hideExtraControl',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'inputAttributes',\n    types: ['object'],\n    required: false\n  },\n  {\n    key: 'metadata',\n    types: ['object'],\n    required: false\n  }\n];\n","export default [\n  {\n    key: 'id',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'options',\n    types: ['object'],\n    required: true\n  },\n  {\n    key: 'end',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'placeholder',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'hideInput',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'hideExtraControl',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'inputAttributes',\n    types: ['object'],\n    required: false\n  },\n  {\n    key: 'metadata',\n    types: ['object'],\n    required: false\n  }\n];\n","export default [\n  {\n    key: 'id',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'component',\n    types: ['any'],\n    required: true\n  },\n  {\n    key: 'avatar',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'replace',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'waitAction',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'asMessage',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'trigger',\n    types: ['string', 'number', 'function'],\n    required: false\n  },\n  {\n    key: 'delay',\n    types: ['number'],\n    required: false\n  },\n  {\n    key: 'end',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'placeholder',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'hideInput',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'hideExtraControl',\n    types: ['boolean'],\n    required: false\n  },\n  {\n    key: 'inputAttributes',\n    types: ['object'],\n    required: false\n  },\n  {\n    key: 'metadata',\n    types: ['object'],\n    required: false\n  }\n];\n","export default [\n  {\n    key: 'id',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'update',\n    types: ['string', 'number'],\n    required: true\n  },\n  {\n    key: 'trigger',\n    types: ['string', 'number', 'function'],\n    required: true\n  },\n  {\n    key: 'placeholder',\n    types: ['string'],\n    required: false\n  },\n  {\n    key: 'inputAttributes',\n    types: ['object'],\n    required: false\n  },\n  {\n    key: 'metadata',\n    types: ['object'],\n    required: false\n  }\n];\n","import userSchema from './userSchema';\nimport textSchema from './textSchema';\nimport optionsSchema from './optionsSchema';\nimport customSchema from './customSchema';\nimport updateSchema from './updateSchema';\nimport { stringify } from 'flatted/cjs';\n\nconst schema = {\n  parse(step) {\n    let parser = [];\n\n    if (step.user) {\n      parser = userSchema;\n    } else if (step.message) {\n      parser = textSchema;\n    } else if (step.options) {\n      parser = optionsSchema;\n    } else if (step.component) {\n      parser = customSchema;\n    } else if (step.update) {\n      parser = updateSchema;\n    } else {\n      throw new Error(`The step ${stringify(step)} is invalid`);\n    }\n\n    for (let i = 0, len = parser.length; i < len; i += 1) {\n      const { key, types, required } = parser[i];\n\n      if (!step[key] && required) {\n        throw new Error(`Key '${key}' is required in step ${stringify(step)}`);\n      } else if (step[key]) {\n        if (types[0] !== 'any' && types.indexOf(typeof step[key]) < 0) {\n          throw new Error(\n            `The type of '${key}' value must be ${types.join(' or ')} instead of ${typeof step[\n              key\n            ]}`\n          );\n        }\n      }\n    }\n\n    const keys = parser.map(p => p.key);\n\n    for (const key in step) {\n      if (keys.indexOf(key) < 0) {\n        console.error(`Invalid key '${key}' in step '${step.id}'`);\n        delete step[key];\n      }\n    }\n\n    return step;\n  },\n\n  checkInvalidIds(steps) {\n    for (const key in steps) {\n      const step = steps[key];\n      const triggerId = steps[key].trigger;\n\n      if (typeof triggerId !== 'function') {\n        if (step.options) {\n          const triggers = step.options.filter(option => typeof option.trigger !== 'function');\n          const optionsTriggerIds = triggers.map(option => option.trigger);\n\n          for (let i = 0, len = optionsTriggerIds.length; i < len; i += 1) {\n            const optionTriggerId = optionsTriggerIds[i];\n            if (optionTriggerId && !steps[optionTriggerId]) {\n              throw new Error(\n                `The id '${optionTriggerId}' triggered by option ${i + 1} in step '${\n                  steps[key].id\n                }' does not exist`\n              );\n            }\n          }\n        } else if (triggerId && !steps[triggerId]) {\n          throw new Error(\n            `The id '${triggerId}' triggered by step '${steps[key].id}' does not exist`\n          );\n        }\n      }\n    }\n  }\n};\n\nexport default schema;\n","import styled from 'styled-components';\nimport defaultTheme from '../theme';\n\nconst ChatBotContainer = styled.div`\n  background: ${({ theme }) => theme.background};\n  border-radius: 10px;\n  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.15);\n  font-family: ${({ theme }) => theme.fontFamily};\n  overflow: hidden;\n  position: ${({ floating }) => (floating ? 'fixed' : 'relative')};\n  bottom: ${({ floating, floatingStyle }) =>\n    floating ? floatingStyle.bottom || '32px' : 'initial'};\n  top: ${({ floating, floatingStyle }) => (floating ? floatingStyle.top || 'initial' : 'initial')};\n  right: ${({ floating, floatingStyle }) => (floating ? floatingStyle.right || '32px' : 'initial')};\n  left: ${({ floating, floatingStyle }) =>\n    floating ? floatingStyle.left || 'initial' : 'initial'};\n  width: ${({ width }) => width};\n  height: ${({ height }) => height};\n  z-index: 999;\n  transform: ${({ opened }) => (opened ? 'scale(1)' : 'scale(0)')};\n  transform-origin: ${({ floatingStyle }) => floatingStyle.transformOrigin || 'bottom right'};\n  transition: transform 0.3s ease;\n\n  @media screen and (max-width: 568px) {\n    border-radius: ${({ floating }) => (floating ? '0' : '')};\n    bottom: 0 !important;\n    left: initial !important;\n    height: 100%;\n    right: 0 !important;\n    top: initial !important;\n    width: 100%;\n  }\n`;\n\nChatBotContainer.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default ChatBotContainer;\n","import styled from 'styled-components';\n\nconst Content = styled.div`\n  height: calc(${props => props.height} - ${props => (props.hideInput ? '56px' : '112px')});\n  overflow-y: auto;\n  margin-top: 2px;\n  padding-top: 6px;\n\n  @media screen and (max-width: 568px) {\n    height: ${props => (props.floating ? 'calc(100% - 112px)' : '')};\n  }\n`;\n\nexport default Content;\n","import styled from 'styled-components';\nimport defaultTheme from '../theme';\n\nconst Header = styled.div`\n  align-items: center;\n  background: ${({ theme }) => theme.headerBgColor};\n  color: ${({ theme }) => theme.headerFontColor};\n  display: flex;\n  fill: ${({ theme }) => theme.headerFontColor};\n  height: 56px;\n  justify-content: space-between;\n  padding: 0 10px;\n`;\n\nHeader.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default Header;\n","import styled from 'styled-components';\nimport defaultTheme from '../theme';\n\nconst HeaderTitle = styled.h2`\n  margin: 0;\n  font-size: ${({ theme }) => theme.headerFontSize};\n  width: 100%;\n  display: flex;\n`;\n\nHeaderTitle.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default HeaderTitle;\n","import styled from 'styled-components';\n\nconst HeaderIcon = styled.a`\n  cursor: pointer;\n`;\n\nexport default HeaderIcon;\n","import styled from 'styled-components';\n\nconst FloatButton = styled.a`\n  align-items: center;\n  cursor: pointer;\n  bottom: 32px;\n  border-radius: 100%;\n  display: flex;\n  fill: ${({ theme }) => theme.headerFontColor};\n  height: 100px;\n  justify-content: center;\n  position: fixed;\n  right: 32px;\n  transform: ${props => (props.opened ? 'scale(0)' : 'scale(1)')};\n  transition: transform 0.3s ease;\n  width: 100px;\n  z-index: 999;\n`;\n\nFloatButton.defaultProps = {\n  theme: {\n    headerBgColor: '#6e48aa',\n    headerFontColor: '#fff'\n  }\n};\n\nexport default FloatButton;\n","import styled from 'styled-components';\n\nconst FloatingIcon = styled.img`\n  height: 100px;\n  width: 100px;\n`;\n\nexport default FloatingIcon;\n","import styled from 'styled-components';\nimport defaultTheme from '../theme';\n\nconst Footer = styled.div`\n  position: relative;\n  border: 10px solid;\n  border-color: ${({ theme }) => theme.headerBgColor};\n  border-radius: 8px 8px 8px 8px;\n  bottom: -7px;\n`;\n\nFooter.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default Footer;\n","import styled, { css } from 'styled-components';\nimport { invalidInput } from '../common/animations';\n\nconst Input = styled.input`\n  animation: ${props =>\n    props.invalid\n      ? css`\n          ${invalidInput} .2s ease\n        `\n      : ''};\n  border: 0;\n  border-radius: 0;\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 10px;\n  border-top: ${props => (props.invalid ? '0' : '1px solid #eee')};\n  box-shadow: ${props => (props.invalid ? 'inset 0 0 2px #E53935' : 'none')};\n  box-sizing: border-box;\n  color: ${props => (props.invalid ? '#E53935' : '')};\n  font-size: 16px;\n  opacity: ${props => (props.disabled && !props.invalid ? '.5' : '1')};\n  outline: none;\n  width: 100%;\n  -webkit-appearance: none;\n  padding-left: 10px;\n\n  &:disabled {\n    background: #fff;\n  }\n\n  @media screen and (max-width: 568px) {\n    border-bottom-left-radius: ${props => (props.floating ? '0' : '10px')};\n    border-bottom-right-radius: ${props => (props.floating ? '0' : '10px')};\n  }\n`;\n\nexport default Input;\n","import styled, { css } from 'styled-components';\nimport defaultTheme from '../theme';\nimport { pulse } from '../common/animations';\n\nconst fillFunc = props => {\n  const { speaking, invalid, theme } = props;\n\n  if (speaking) {\n    return theme.headerBgColor;\n  }\n  return invalid ? '#E53935' : '#4a4a4a';\n};\n\nconst SubmitButton = styled.button`\n  background-color: transparent;\n  border: 0;\n  border-bottom-right-radius: 10px;\n  box-shadow: none;\n  cursor: ${props => (props.disabled ? 'default' : 'pointer')};\n  fill: ${fillFunc};\n  opacity: ${props => (props.disabled && !props.invalid ? '.5' : '1')};\n  outline: none;\n  &:before {\n    content: '';\n    position: absolute;\n    width: 23px;\n    height: 23px;\n    border-radius: 50%;\n    animation: ${({ theme, speaking }) =>\n      speaking\n        ? css`\n            ${pulse(theme.headerBgColor)} 2s ease infinite\n          `\n        : ''};\n  }\n  &:not(:disabled):hover {\n    opacity: 0.7;\n  }\n`;\n\nSubmitButton.defaultProps = {\n  theme: defaultTheme\n};\n\nexport default SubmitButton;\n","let instance = null;\n\nconst noop = () => {};\n\nexport default class Recognition {\n  static isSupported() {\n    return 'webkitSpeechRecognition' in window;\n  }\n\n  /**\n   * Creates an instance of Recognition.\n   * @param {function} [onChange] callback on change\n   * @param {function} [onEnd]  callback on and\n   * @param {function} [onStop]  callback on stop\n   * @param {string} [lang='en'] recognition lang\n   * @memberof Recognition\n   * @constructor\n   */\n  constructor(onChange = noop, onEnd = noop, onStop = noop, lang = 'en') {\n    if (!instance) {\n      instance = this;\n    }\n    this.state = {\n      inputValue: '',\n      lang,\n      onChange,\n      onEnd,\n      onStop\n    };\n\n    this.onResult = this.onResult.bind(this);\n    this.onEnd = this.onEnd.bind(this);\n\n    this.setup();\n\n    return instance;\n  }\n\n  /**\n   * Handler for recognition change event\n   * @param {string} interimTranscript\n   * @memberof Recognition\n   * @private\n   */\n  onChange(interimTranscript) {\n    const { onChange } = this.state;\n    this.setState({\n      inputValue: interimTranscript\n    });\n    onChange(interimTranscript);\n  }\n\n  /**\n   * Handler for recognition change event when its final\n   * @param {string} finalTranscript\n   * @memberof Recognition\n   * @private\n   */\n  onFinal(finalTranscript) {\n    this.setState({\n      inputValue: finalTranscript\n    });\n    this.recognition.stop();\n  }\n\n  /**\n   * Handler for recognition end event\n   * @memberof Recognition\n   * @private\n   */\n  onEnd() {\n    const { onStop, onEnd, force } = this.state;\n    this.setState({ speaking: false });\n    if (force) {\n      onStop();\n    } else {\n      onEnd();\n    }\n  }\n\n  /**\n   * Handler for recognition result event\n   * @memberof Recognition\n   * @private\n   */\n  onResult(event) {\n    let interimTranscript = '';\n    let finalTranscript = '';\n\n    for (let i = event.resultIndex; i < event.results.length; i += 1) {\n      if (event.results[i].isFinal) {\n        finalTranscript += event.results[i][0].transcript;\n        this.onFinal(finalTranscript);\n      } else {\n        interimTranscript += event.results[i][0].transcript;\n        this.onChange(interimTranscript);\n      }\n    }\n  }\n\n  /**\n   * method for updating the instance state\n   * @param {object} nextState\n   * @memberof Recognition\n   * @private\n   */\n  setState(nextState) {\n    this.state = Object.assign({}, this.state, nextState);\n  }\n\n  /**\n   * setup the browser recognition\n   * @returns {Recognition}\n   * @memberof Recognition\n   * @public\n   */\n  setup() {\n    if (!Recognition.isSupported()) {\n      return this;\n    }\n\n    const { webkitSpeechRecognition } = window;\n\n    this.recognition = new webkitSpeechRecognition();\n    this.recognition.continuous = true;\n    this.recognition.interimResults = true;\n    this.recognition.lang = this.state.lang;\n    this.recognition.onresult = this.onResult;\n    this.recognition.onend = this.onEnd;\n    return this;\n  }\n\n  /**\n   * change the recognition lang and resetup\n   * @param {string} lang the new lang\n   * @returns {Recognition}\n   * @memberof Recognition\n   * @public\n   */\n  setLang(lang) {\n    this.setState({ lang });\n    this.setup();\n    return this;\n  }\n\n  /**\n   * toggle the recognition\n   * @returns {Recognition}\n   * @memberof Recognition\n   * @public\n   */\n  speak() {\n    if (!Recognition.isSupported()) {\n      return this;\n    }\n    const { speaking } = this.state;\n    if (!speaking) {\n      this.recognition.start();\n      this.setState({\n        speaking: true,\n        inputValue: ''\n      });\n    } else {\n      this.setState({\n        force: true\n      });\n      this.recognition.stop();\n    }\n    return this;\n  }\n}\n","import React from 'react';\n\nconst ChatIcon = () => (\n  <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z\" />\n    <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n  </svg>\n);\n\nexport default ChatIcon;\n","import React from 'react';\n\nconst CloseIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n      d=\"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n\nexport default CloseIcon;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst SubmitIcon = ({ size }) => (\n  <svg\n    width={size}\n    height={size}\n    viewBox=\"0 0 15 15\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M1.20307 1.04312C1.00481 0.954998 0.77234 1.0048 0.627577 1.16641C0.482813 1.32802 0.458794 1.56455 0.568116 1.75196L3.92115 7.50002L0.568116 13.2481C0.458794 13.4355 0.482813 13.672 0.627577 13.8336C0.77234 13.9952 1.00481 14.045 1.20307 13.9569L14.7031 7.95692C14.8836 7.87667 15 7.69761 15 7.50002C15 7.30242 14.8836 7.12336 14.7031 7.04311L1.20307 1.04312ZM4.84552 7.10002L2.21234 2.586L13.2689 7.50002L2.21234 12.414L4.84552 7.90002H9C9.22091 7.90002 9.4 7.72094 9.4 7.50002C9.4 7.27911 9.22091 7.10002 9 7.10002H4.84552Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\n\nSubmitIcon.propTypes = {\n  size: PropTypes.number\n};\n\nSubmitIcon.defaultProps = {\n  size: 20\n};\n\nexport default SubmitIcon;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst MicIcon = ({ size }) => (\n  <svg\n    version=\"1.1\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width={size}\n    height={size}\n    viewBox=\"0 0 400 400\"\n  >\n    <g>\n      <path d=\"M290.991,240.991c0,26.392-21.602,47.999-48.002,47.999h-11.529c-26.4,0-48.002-21.607-48.002-47.999V104.002   c0-26.4,21.602-48.004,48.002-48.004h11.529c26.4,0,48.002,21.604,48.002,48.004V240.991z\" />\n      <path d=\"M342.381,209.85h-8.961c-4.932,0-8.961,4.034-8.961,8.961v8.008c0,50.26-37.109,91.001-87.361,91.001   c-50.26,0-87.109-40.741-87.109-91.001v-8.008c0-4.927-4.029-8.961-8.961-8.961h-8.961c-4.924,0-8.961,4.034-8.961,8.961v8.008   c0,58.862,40.229,107.625,96.07,116.362v36.966h-34.412c-4.932,0-8.961,4.039-8.961,8.971v17.922c0,4.923,4.029,8.961,8.961,8.961   h104.688c4.926,0,8.961-4.038,8.961-8.961v-17.922c0-4.932-4.035-8.971-8.961-8.971h-34.43v-36.966   c55.889-8.729,96.32-57.5,96.32-116.362v-8.008C351.342,213.884,347.303,209.85,342.381,209.85z\" />\n    </g>\n  </svg>\n);\n\nMicIcon.propTypes = {\n  size: PropTypes.number\n};\n\nMicIcon.defaultProps = {\n  size: 20\n};\n\nexport default MicIcon;\n","export const isMobile = () => /iphone|ipod|android|ie|blackberry|fennec/i.test(navigator.userAgent);\n\nexport const isString = value => typeof value === 'string';\n","import { isString } from './utils';\n\nexport const getSpeakText = step => {\n  const { message, metadata = {} } = step;\n  if (isString(metadata.speak)) {\n    return metadata.speak;\n  }\n  if (isString(message)) {\n    return message;\n  }\n  return '';\n};\n\nexport const speakFn = speechSynthesisOptions => (step, previousValue) => {\n  const { lang, voice, enable } = speechSynthesisOptions;\n  const { user } = step;\n\n  if (!window.SpeechSynthesisUtterance || !window.speechSynthesis) {\n    return;\n  }\n  if (user) {\n    return;\n  }\n  if (!enable) {\n    return;\n  }\n  const text = getSpeakText(step);\n  const msg = new window.SpeechSynthesisUtterance();\n  msg.text = text.replace(/{previousValue}/g, previousValue);\n  msg.lang = lang;\n  msg.voice = voice;\n  window.speechSynthesis.speak(msg);\n};\n","import React, { Fragment, useMemo } from 'react';\n\nconst CurrentDate = () => {\n  const nowDate = useMemo(() => new Date().toLocaleDateString(), []);\n\n  const divConfig = {\n    width: '100%',\n    marginTop: '3px',\n    justifyContent: 'center',\n    display: 'flex',\n    marginBottom: '10px'\n  };\n\n  const currentDateConfig = {\n    fontSize: 'x-small',\n    backgroundColor: 'grey',\n    color: 'white',\n    borderRadius: '5px 5px 5px 5px',\n    paddingLeft: '5px',\n    paddingRight: '5px'\n  };\n\n  return (\n    <Fragment>\n      <div\n        style={{\n          ...divConfig\n        }}\n      >\n        <span style={{ ...currentDateConfig }}>{nowDate}</span>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default CurrentDate;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Random from 'random-id';\nimport { CustomStep, OptionsStep, TextStep } from './steps_components';\nimport schema from './schemas/schema';\nimport * as storage from './storage';\nimport {\n  ChatBotContainer,\n  Content,\n  Header,\n  HeaderTitle,\n  HeaderIcon,\n  FloatButton,\n  FloatingIcon,\n  Footer,\n  Input,\n  SubmitButton\n} from './components';\nimport Recognition from './recognition';\nimport { ChatIcon, CloseIcon, SubmitIcon, MicIcon } from './icons';\nimport { isMobile } from './utils';\nimport { speakFn } from './speechSynthesis';\nimport CurrentDate from './components/CurrentDate';\n\nclass ChatBot extends Component {\n  /* istanbul ignore next */\n  constructor(props) {\n    super(props);\n\n    this.content = null;\n    this.input = null;\n\n    this.supportsScrollBehavior = false;\n\n    this.setContentRef = element => {\n      this.content = element;\n    };\n\n    this.setInputRef = element => {\n      this.input = element;\n    };\n\n    this.state = {\n      renderedSteps: [],\n      previousSteps: [],\n      currentStep: {},\n      previousStep: {},\n      steps: {},\n      disabled: true,\n      opened: props.opened || !props.floating,\n      inputValue: '',\n      inputInvalid: false,\n      speaking: false,\n      recognitionEnable: props.recognitionEnable && Recognition.isSupported(),\n      defaultUserSettings: {}\n    };\n\n    this.speak = speakFn(props.speechSynthesis);\n  }\n\n  componentDidMount() {\n    const { steps } = this.props;\n    const {\n      botDelay,\n      botAvatar,\n      botName,\n      cache,\n      cacheName,\n      customDelay,\n      enableMobileAutoFocus,\n      userAvatar,\n      userDelay\n    } = this.props;\n    const chatSteps = {};\n\n    const defaultBotSettings = { delay: botDelay, avatar: botAvatar, botName };\n    const defaultUserSettings = {\n      delay: userDelay,\n      avatar: userAvatar,\n      hideInput: false,\n      hideExtraControl: false\n    };\n    const defaultCustomSettings = { delay: customDelay };\n\n    for (let i = 0, len = steps.length; i < len; i += 1) {\n      const step = steps[i];\n      let settings = {};\n\n      if (step.user) {\n        settings = defaultUserSettings;\n      } else if (step.message || step.asMessage) {\n        settings = defaultBotSettings;\n      } else if (step.component) {\n        settings = defaultCustomSettings;\n      }\n\n      chatSteps[step.id] = Object.assign({}, settings, schema.parse(step));\n    }\n\n    schema.checkInvalidIds(chatSteps);\n\n    const firstStep = steps[0];\n\n    if (firstStep.message) {\n      const { message } = firstStep;\n      firstStep.message = typeof message === 'function' ? message() : message;\n      chatSteps[firstStep.id].message = firstStep.message;\n    }\n\n    const { recognitionEnable } = this.state;\n    const { recognitionLang } = this.props;\n\n    if (recognitionEnable) {\n      this.recognition = new Recognition(\n        this.onRecognitionChange,\n        this.onRecognitionEnd,\n        this.onRecognitionStop,\n        recognitionLang\n      );\n    }\n\n    this.supportsScrollBehavior = 'scrollBehavior' in document.documentElement.style;\n\n    if (this.content) {\n      this.content.addEventListener('DOMNodeInserted', this.onNodeInserted);\n      window.addEventListener('resize', this.onResize);\n    }\n\n    const { currentStep, previousStep, previousSteps, renderedSteps } = storage.getData(\n      {\n        cacheName,\n        cache,\n        firstStep,\n        steps: chatSteps\n      },\n      () => {\n        // focus input if last step cached is a user step\n        this.setState({ disabled: false }, () => {\n          if (enableMobileAutoFocus || !isMobile()) {\n            if (this.input) {\n              this.input.focus();\n            }\n          }\n        });\n      }\n    );\n\n    this.setState({\n      currentStep,\n      defaultUserSettings,\n      previousStep,\n      previousSteps,\n      renderedSteps,\n      steps: chatSteps\n    });\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    const { opened, toggleFloating } = props;\n    if (toggleFloating !== undefined && opened !== undefined && opened !== state.opened) {\n      return {\n        ...state,\n        opened\n      };\n    }\n    return state;\n  }\n\n  componentWillUnmount() {\n    if (this.content) {\n      this.content.removeEventListener('DOMNodeInserted', this.onNodeInserted);\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  onNodeInserted = event => {\n    const { currentTarget: target } = event;\n    const { enableSmoothScroll } = this.props;\n\n    if (enableSmoothScroll && this.supportsScrollBehavior) {\n      target.scroll({\n        top: target.scrollHeight,\n        left: 0,\n        behavior: 'smooth'\n      });\n    } else {\n      target.scrollTop = target.scrollHeight;\n    }\n  };\n\n  onResize = () => {\n    this.content.scrollTop = this.content.scrollHeight;\n  };\n\n  onRecognitionChange = value => {\n    this.setState({ inputValue: value });\n  };\n\n  onRecognitionEnd = () => {\n    this.setState({ speaking: false });\n    this.handleSubmitButton();\n  };\n\n  onRecognitionStop = () => {\n    this.setState({ speaking: false });\n  };\n\n  onValueChange = event => {\n    this.setState({ inputValue: event.target.value });\n  };\n\n  getTriggeredStep = (trigger, value) => {\n    const steps = this.generateRenderedStepsById();\n    return typeof trigger === 'function' ? trigger({ value, steps }) : trigger;\n  };\n\n  getStepMessage = message => {\n    const { previousSteps } = this.state;\n    const lastStepIndex = previousSteps.length > 0 ? previousSteps.length - 1 : 0;\n    const steps = this.generateRenderedStepsById();\n    const previousValue = previousSteps[lastStepIndex].value;\n    return typeof message === 'function' ? message({ previousValue, steps }) : message;\n  };\n\n  generateRenderedStepsById = () => {\n    const { previousSteps } = this.state;\n    const steps = {};\n\n    for (let i = 0, len = previousSteps.length; i < len; i += 1) {\n      const { id, message, value, metadata } = previousSteps[i];\n\n      steps[id] = {\n        id,\n        message,\n        value,\n        metadata\n      };\n    }\n\n    return steps;\n  };\n\n  triggerNextStep = data => {\n    const { enableMobileAutoFocus } = this.props;\n    const { defaultUserSettings, previousSteps, renderedSteps, steps } = this.state;\n\n    let { currentStep, previousStep } = this.state;\n    const isEnd = currentStep.end;\n\n    if (data && data.value) {\n      currentStep.value = data.value;\n    }\n    if (data && data.hideInput) {\n      currentStep.hideInput = data.hideInput;\n    }\n    if (data && data.hideExtraControl) {\n      currentStep.hideExtraControl = data.hideExtraControl;\n    }\n    if (data && data.trigger) {\n      currentStep.trigger = this.getTriggeredStep(data.trigger, data.value);\n    }\n\n    if (isEnd) {\n      this.handleEnd();\n    } else if (currentStep.options && data) {\n      const option = currentStep.options.filter(o => o.value === data.value)[0];\n      const trigger = this.getTriggeredStep(option.trigger, currentStep.value);\n      delete currentStep.options;\n\n      // replace choose option for user message\n      currentStep = Object.assign({}, currentStep, option, defaultUserSettings, {\n        user: true,\n        message: option.label,\n        trigger\n      });\n\n      renderedSteps.pop();\n      previousSteps.pop();\n      renderedSteps.push(currentStep);\n      previousSteps.push(currentStep);\n\n      this.setState({\n        currentStep,\n        renderedSteps,\n        previousSteps\n      });\n    } else if (currentStep.trigger) {\n      if (currentStep.replace) {\n        renderedSteps.pop();\n      }\n\n      const trigger = this.getTriggeredStep(currentStep.trigger, currentStep.value);\n      let nextStep = Object.assign({}, steps[trigger]);\n\n      if (nextStep.message) {\n        nextStep.message = this.getStepMessage(nextStep.message);\n      } else if (nextStep.update) {\n        const updateStep = nextStep;\n        nextStep = Object.assign({}, steps[updateStep.update]);\n\n        if (nextStep.options) {\n          for (let i = 0, len = nextStep.options.length; i < len; i += 1) {\n            nextStep.options[i].trigger = updateStep.trigger;\n          }\n        } else {\n          nextStep.trigger = updateStep.trigger;\n        }\n      }\n\n      nextStep.key = Random(24);\n\n      previousStep = currentStep;\n      currentStep = nextStep;\n\n      this.setState({ renderedSteps, currentStep, previousStep }, () => {\n        if (nextStep.user) {\n          this.setState({ disabled: false }, () => {\n            if (enableMobileAutoFocus || !isMobile()) {\n              if (this.input) {\n                this.input.focus();\n              }\n            }\n          });\n        } else {\n          renderedSteps.push(nextStep);\n          previousSteps.push(nextStep);\n\n          this.setState({ renderedSteps, previousSteps });\n        }\n      });\n    }\n\n    const { cache, cacheName } = this.props;\n    if (cache) {\n      setTimeout(() => {\n        storage.setData(cacheName, {\n          currentStep,\n          previousStep,\n          previousSteps,\n          renderedSteps\n        });\n      }, 300);\n    }\n  };\n\n  handleEnd = () => {\n    const { handleEnd } = this.props;\n\n    if (handleEnd) {\n      const { previousSteps } = this.state;\n\n      const renderedSteps = previousSteps.map(step => {\n        const { id, message, value, metadata } = step;\n\n        return {\n          id,\n          message,\n          value,\n          metadata\n        };\n      });\n\n      const steps = [];\n\n      for (let i = 0, len = previousSteps.length; i < len; i += 1) {\n        const { id, message, value, metadata } = previousSteps[i];\n\n        steps[id] = {\n          id,\n          message,\n          value,\n          metadata\n        };\n      }\n\n      const values = previousSteps.filter(step => step.value).map(step => step.value);\n\n      handleEnd({ renderedSteps, steps, values });\n    }\n  };\n\n  isInputValueEmpty = () => {\n    const { inputValue } = this.state;\n    return !inputValue || inputValue.length === 0;\n  };\n\n  isLastPosition = step => {\n    const { renderedSteps } = this.state;\n    const { length } = renderedSteps;\n    const stepIndex = renderedSteps.map(s => s.key).indexOf(step.key);\n\n    if (length <= 1 || stepIndex + 1 === length) {\n      return true;\n    }\n\n    const nextStep = renderedSteps[stepIndex + 1];\n    const hasMessage = nextStep.message || nextStep.asMessage;\n\n    if (!hasMessage) {\n      return true;\n    }\n\n    const isLast = step.user !== nextStep.user;\n    return isLast;\n  };\n\n  isFirstPosition = step => {\n    const { renderedSteps } = this.state;\n    const stepIndex = renderedSteps.map(s => s.key).indexOf(step.key);\n\n    if (stepIndex === 0) {\n      return true;\n    }\n\n    const lastStep = renderedSteps[stepIndex - 1];\n    const hasMessage = lastStep.message || lastStep.asMessage;\n\n    if (!hasMessage) {\n      return true;\n    }\n\n    const isFirst = step.user !== lastStep.user;\n    return isFirst;\n  };\n\n  handleKeyPress = event => {\n    if (event.key === 'Enter') {\n      this.submitUserMessage();\n    }\n  };\n\n  handleSubmitButton = () => {\n    const { speaking, recognitionEnable } = this.state;\n\n    if ((this.isInputValueEmpty() || speaking) && recognitionEnable) {\n      this.recognition.speak();\n      if (!speaking) {\n        this.setState({ speaking: true });\n      }\n      return;\n    }\n\n    this.submitUserMessage();\n  };\n\n  submitUserMessage = () => {\n    const { defaultUserSettings, inputValue, previousSteps, renderedSteps } = this.state;\n    let { currentStep } = this.state;\n\n    const isInvalid = currentStep.validator && this.checkInvalidInput();\n\n    if (!isInvalid) {\n      const step = {\n        message: inputValue,\n        value: inputValue\n      };\n\n      currentStep = Object.assign({}, defaultUserSettings, currentStep, step);\n\n      renderedSteps.push(currentStep);\n      previousSteps.push(currentStep);\n\n      this.setState(\n        {\n          currentStep,\n          renderedSteps,\n          previousSteps,\n          disabled: true,\n          inputValue: ''\n        },\n        () => {\n          if (this.input) {\n            this.input.blur();\n          }\n        }\n      );\n    }\n  };\n\n  checkInvalidInput = () => {\n    const { enableMobileAutoFocus } = this.props;\n    const { currentStep, inputValue } = this.state;\n    const result = currentStep.validator(inputValue);\n    const value = inputValue;\n\n    if (typeof result !== 'boolean' || !result) {\n      this.setState(\n        {\n          inputValue: result.toString(),\n          inputInvalid: true,\n          disabled: true\n        },\n        () => {\n          setTimeout(() => {\n            this.setState(\n              {\n                inputValue: value,\n                inputInvalid: false,\n                disabled: false\n              },\n              () => {\n                if (enableMobileAutoFocus || !isMobile()) {\n                  if (this.input) {\n                    this.input.focus();\n                  }\n                }\n              }\n            );\n          }, 2000);\n        }\n      );\n\n      return true;\n    }\n\n    return false;\n  };\n\n  toggleChatBot = opened => {\n    const { toggleFloating } = this.props;\n\n    if (toggleFloating) {\n      toggleFloating({ opened });\n    } else {\n      this.setState({ opened });\n    }\n  };\n\n  renderStep = (step, index) => {\n    const { renderedSteps } = this.state;\n    const {\n      avatarStyle,\n      bubbleStyle,\n      bubbleOptionStyle,\n      customStyle,\n      hideBotAvatar,\n      hideUserAvatar,\n      speechSynthesis\n    } = this.props;\n    const { options, component, asMessage } = step;\n    const steps = this.generateRenderedStepsById();\n    const previousStep = index > 0 ? renderedSteps[index - 1] : {};\n\n    if (component && !asMessage) {\n      return (\n        <CustomStep\n          key={index}\n          speak={this.speak}\n          step={step}\n          steps={steps}\n          style={customStyle}\n          previousStep={previousStep}\n          previousValue={previousStep.value}\n          triggerNextStep={this.triggerNextStep}\n        />\n      );\n    }\n\n    if (options) {\n      return (\n        <OptionsStep\n          key={index}\n          step={step}\n          previousValue={previousStep.value}\n          triggerNextStep={this.triggerNextStep}\n          bubbleOptionStyle={bubbleOptionStyle}\n        />\n      );\n    }\n\n    return (\n      <TextStep\n        key={index}\n        step={step}\n        steps={steps}\n        speak={this.speak}\n        previousStep={previousStep}\n        previousValue={previousStep.value}\n        triggerNextStep={this.triggerNextStep}\n        avatarStyle={avatarStyle}\n        bubbleStyle={bubbleStyle}\n        hideBotAvatar={hideBotAvatar}\n        hideUserAvatar={hideUserAvatar}\n        speechSynthesis={speechSynthesis}\n        isFirst={this.isFirstPosition(step)}\n        isLast={this.isLastPosition(step)}\n      />\n    );\n  };\n\n  render() {\n    const {\n      currentStep,\n      disabled,\n      inputInvalid,\n      inputValue,\n      opened,\n      renderedSteps,\n      speaking,\n      recognitionEnable\n    } = this.state;\n    const {\n      className,\n      contentStyle,\n      extraControl,\n      controlStyle,\n      floating,\n      floatingIcon,\n      floatingStyle,\n      footerStyle,\n      headerComponent,\n      headerTitle,\n      hideHeader,\n      hideSubmitButton,\n      inputStyle,\n      placeholder,\n      inputAttributes,\n      recognitionPlaceholder,\n      style,\n      submitButtonStyle,\n      width,\n      height\n    } = this.props;\n\n    const header = headerComponent || (\n      <Header className=\"rsc-header\">\n        <HeaderTitle className=\"rsc-header-title\">\n          {headerTitle}\n          {floating && (\n            <div style={{ textAlign: 'right', flex: '0 0 85%', alignSelf: 'center' }}>\n              <HeaderIcon\n                className=\"rsc-header-close-button\"\n                onClick={() => this.toggleChatBot(false)}\n              >\n                <CloseIcon />\n              </HeaderIcon>\n            </div>\n          )}\n        </HeaderTitle>\n      </Header>\n    );\n\n    let customControl;\n    if (extraControl !== undefined) {\n      customControl = React.cloneElement(extraControl, {\n        disabled,\n        speaking,\n        invalid: inputInvalid\n      });\n    }\n\n    const icon =\n      (this.isInputValueEmpty() || speaking) && recognitionEnable ? <MicIcon /> : <SubmitIcon />;\n\n    const inputPlaceholder = speaking\n      ? recognitionPlaceholder\n      : currentStep.placeholder || placeholder;\n\n    const inputAttributesOverride = currentStep.inputAttributes || inputAttributes;\n\n    return (\n      <div className={`rsc ${className}`}>\n        {floating && (\n          <FloatButton\n            className=\"rsc-float-button\"\n            style={floatingStyle}\n            opened={opened}\n            onClick={() => this.toggleChatBot(true)}\n          >\n            {typeof floatingIcon === 'string' ? <FloatingIcon src={floatingIcon} /> : floatingIcon}\n          </FloatButton>\n        )}\n        <ChatBotContainer\n          className=\"rsc-container\"\n          floating={floating}\n          floatingStyle={floatingStyle}\n          opened={opened}\n          style={style}\n          width={width}\n          height={height}\n        >\n          {!hideHeader && header}\n          <Content\n            className=\"rsc-content\"\n            ref={this.setContentRef}\n            floating={floating}\n            style={contentStyle}\n            height={height}\n            hideInput={currentStep.hideInput}\n          >\n            <CurrentDate />\n            {renderedSteps.map(this.renderStep)}\n          </Content>\n          <Footer className=\"rsc-footer\" style={footerStyle}>\n            {!currentStep.hideInput && (\n              <Input\n                type=\"textarea\"\n                style={inputStyle}\n                ref={this.setInputRef}\n                className=\"rsc-input\"\n                placeholder={inputInvalid ? '' : inputPlaceholder}\n                onKeyPress={this.handleKeyPress}\n                onChange={this.onValueChange}\n                value={inputValue}\n                floating={floating}\n                invalid={inputInvalid}\n                disabled={disabled}\n                hasButton={!hideSubmitButton}\n                {...inputAttributesOverride}\n              />\n            )}\n            <div style={controlStyle} className=\"rsc-controls\">\n              {!currentStep.hideInput && !currentStep.hideExtraControl && customControl}\n              {!currentStep.hideInput && !hideSubmitButton && (\n                <SubmitButton\n                  className=\"rsc-submit-button\"\n                  style={submitButtonStyle}\n                  onClick={this.handleSubmitButton}\n                  invalid={inputInvalid}\n                  disabled={disabled}\n                  speaking={speaking}\n                >\n                  {icon}\n                </SubmitButton>\n              )}\n            </div>\n          </Footer>\n        </ChatBotContainer>\n      </div>\n    );\n  }\n}\n\nChatBot.propTypes = {\n  avatarStyle: PropTypes.objectOf(PropTypes.any),\n  botAvatar: PropTypes.string,\n  botName: PropTypes.string,\n  botDelay: PropTypes.number,\n  bubbleOptionStyle: PropTypes.objectOf(PropTypes.any),\n  bubbleStyle: PropTypes.objectOf(PropTypes.any),\n  cache: PropTypes.bool,\n  cacheName: PropTypes.string,\n  className: PropTypes.string,\n  contentStyle: PropTypes.objectOf(PropTypes.any),\n  customDelay: PropTypes.number,\n  customStyle: PropTypes.objectOf(PropTypes.any),\n  controlStyle: PropTypes.objectOf(PropTypes.any),\n  enableMobileAutoFocus: PropTypes.bool,\n  enableSmoothScroll: PropTypes.bool,\n  extraControl: PropTypes.objectOf(PropTypes.element),\n  floating: PropTypes.bool,\n  floatingIcon: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n  floatingStyle: PropTypes.objectOf(PropTypes.any),\n  footerStyle: PropTypes.objectOf(PropTypes.any),\n  handleEnd: PropTypes.func,\n  headerComponent: PropTypes.element,\n  headerTitle: PropTypes.string,\n  height: PropTypes.string,\n  hideBotAvatar: PropTypes.bool,\n  hideHeader: PropTypes.bool,\n  hideSubmitButton: PropTypes.bool,\n  hideUserAvatar: PropTypes.bool,\n  inputAttributes: PropTypes.objectOf(PropTypes.any),\n  inputStyle: PropTypes.objectOf(PropTypes.any),\n  opened: PropTypes.bool,\n  toggleFloating: PropTypes.func,\n  placeholder: PropTypes.string,\n  recognitionEnable: PropTypes.bool,\n  recognitionLang: PropTypes.string,\n  recognitionPlaceholder: PropTypes.string,\n  speechSynthesis: PropTypes.shape({\n    enable: PropTypes.bool,\n    lang: PropTypes.string,\n    voice:\n      typeof window !== 'undefined'\n        ? PropTypes.instanceOf(window.SpeechSynthesisVoice)\n        : PropTypes.any\n  }),\n  steps: PropTypes.arrayOf(PropTypes.object).isRequired,\n  style: PropTypes.objectOf(PropTypes.any),\n  submitButtonStyle: PropTypes.objectOf(PropTypes.any),\n  userAvatar: PropTypes.string,\n  userDelay: PropTypes.number,\n  width: PropTypes.string\n};\n\nChatBot.defaultProps = {\n  avatarStyle: {},\n  botDelay: 1000,\n  botName: 'The bot',\n  bubbleOptionStyle: {},\n  bubbleStyle: {},\n  cache: false,\n  cacheName: 'rsc_cache',\n  className: '',\n  contentStyle: {},\n  customStyle: {},\n  controlStyle: { position: 'absolute', right: '0', top: '0' },\n  customDelay: 1000,\n  enableMobileAutoFocus: false,\n  enableSmoothScroll: false,\n  extraControl: undefined,\n  floating: false,\n  floatingIcon: <ChatIcon />,\n  floatingStyle: {},\n  footerStyle: {},\n  handleEnd: undefined,\n  headerComponent: undefined,\n  headerTitle: 'Chat',\n  height: '520px',\n  hideBotAvatar: false,\n  hideHeader: false,\n  hideSubmitButton: false,\n  hideUserAvatar: false,\n  inputStyle: {},\n  opened: undefined,\n  placeholder: 'Type the message ...',\n  inputAttributes: {},\n  recognitionEnable: false,\n  recognitionLang: 'en',\n  recognitionPlaceholder: 'Listening ...',\n  speechSynthesis: {\n    enable: false,\n    lang: 'en',\n    voice: null\n  },\n  style: {},\n  submitButtonStyle: {},\n  toggleFloating: undefined,\n  userDelay: 1000,\n  width: '350px',\n  botAvatar:\n    \"data:image/svg+xml,%3csvg version='1' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3e%3cpath d='M303 70a47 47 0 1 0-70 40v84h46v-84c14-8 24-23 24-40z' fill='%2393c7ef'/%3e%3cpath d='M256 23v171h23v-84a47 47 0 0 0-23-87z' fill='%235a8bb0'/%3e%3cpath fill='%2393c7ef' d='M0 240h248v124H0z'/%3e%3cpath fill='%235a8bb0' d='M264 240h248v124H264z'/%3e%3cpath fill='%2393c7ef' d='M186 365h140v124H186z'/%3e%3cpath fill='%235a8bb0' d='M256 365h70v124h-70z'/%3e%3cpath fill='%23cce9f9' d='M47 163h419v279H47z'/%3e%3cpath fill='%2393c7ef' d='M256 163h209v279H256z'/%3e%3cpath d='M194 272a31 31 0 0 1-62 0c0-18 14-32 31-32s31 14 31 32z' fill='%233c5d76'/%3e%3cpath d='M380 272a31 31 0 0 1-62 0c0-18 14-32 31-32s31 14 31 32z' fill='%231e2e3b'/%3e%3cpath d='M186 349a70 70 0 1 0 140 0H186z' fill='%233c5d76'/%3e%3cpath d='M256 349v70c39 0 70-31 70-70h-70z' fill='%231e2e3b'/%3e%3c/svg%3e\",\n  userAvatar:\n    \"data:image/svg+xml,%3csvg viewBox='-208.5 21 100 100' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ccircle cx='-158.5' cy='71' fill='%23F5EEE5' r='50'/%3e%3cdefs%3e%3ccircle cx='-158.5' cy='71' id='a' r='50'/%3e%3c/defs%3e%3cclipPath id='b'%3e%3cuse overflow='visible' xlink:href='%23a'/%3e%3c/clipPath%3e%3cpath clip-path='url(%23b)' d='M-108.5 121v-14s-21.2-4.9-28-6.7c-2.5-.7-7-3.3-7-12V82h-30v6.3c0 8.7-4.5 11.3-7 12-6.8 1.9-28.1 7.3-28.1 6.7v14h100.1z' fill='%23E6C19C'/%3e%3cg clip-path='url(%23b)'%3e%3cdefs%3e%3cpath d='M-108.5 121v-14s-21.2-4.9-28-6.7c-2.5-.7-7-3.3-7-12V82h-30v6.3c0 8.7-4.5 11.3-7 12-6.8 1.9-28.1 7.3-28.1 6.7v14h100.1z' id='c'/%3e%3c/defs%3e%3cclipPath id='d'%3e%3cuse overflow='visible' xlink:href='%23c'/%3e%3c/clipPath%3e%3cpath clip-path='url(%23d)' d='M-158.5 100.1c12.7 0 23-18.6 23-34.4 0-16.2-10.3-24.7-23-24.7s-23 8.5-23 24.7c0 15.8 10.3 34.4 23 34.4z' fill='%23D4B08C'/%3e%3c/g%3e%3cpath d='M-158.5 96c12.7 0 23-16.3 23-31 0-15.1-10.3-23-23-23s-23 7.9-23 23c0 14.7 10.3 31 23 31z' fill='%23F2CEA5'/%3e%3c/svg%3e\"\n};\n\nexport default ChatBot;\n","import { stringify, parse } from 'flatted/cjs'\n\n/* istanbul ignore next */\nconst getData = (params, callback) => {\n  const { cacheName, cache, firstStep, steps } = params;\n  const currentStep = firstStep;\n  const renderedSteps = [steps[currentStep.id]];\n  const previousSteps = [steps[currentStep.id]];\n  const previousStep = {};\n  const unParsedCache = localStorage.getItem(cacheName);\n\n  if (cache && unParsedCache) {\n    try {\n      const data = parse(unParsedCache);\n      const lastStep = data.renderedSteps[data.renderedSteps.length - 1];\n\n      if (lastStep && lastStep.end) {\n        localStorage.removeItem(cacheName);\n      } else {\n        for (let i = 0, len = data.renderedSteps.length; i < len; i += 1) {\n          const renderedStep = data.renderedSteps[i];\n          // remove delay of cached rendered steps\n          data.renderedSteps[i].delay = 0;\n          // flag used to avoid call triggerNextStep in cached rendered steps\n          data.renderedSteps[i].rendered = true;\n\n          // an error is thrown when render a component from localStorage.\n          // So it's necessary reassing the component\n          if (renderedStep.component) {\n            const { id } = renderedStep;\n            data.renderedSteps[i].component = steps[id].component;\n          }\n        }\n\n        const { trigger, end, options } = data.currentStep;\n        const { id } = data.currentStep;\n\n        if (options) {\n          delete data.currentStep.rendered;\n        }\n\n        // add trigger function to current step\n        if (!trigger && !end) {\n          if (options) {\n            for (let i = 0; i < options.length; i += 1) {\n              data.currentStep.options[i].trigger = steps[id].options[i].trigger;\n            }\n          } else {\n            data.currentStep.trigger = steps[id].trigger;\n          }\n        }\n\n        // execute callback function to enable input if last step is\n        // waiting user type\n        if (data.currentStep.user) {\n          callback();\n        }\n\n        return data;\n      }\n    } catch (error) {\n      console.info(`Unable to parse cache named:${cacheName}. \\nThe cache where probably created with an older version of react-simple-chatbot.\\n`, error);\n    }\n  }\n\n  return {\n    currentStep,\n    previousStep,\n    previousSteps,\n    renderedSteps\n  };\n};\n\n/* istanbul ignore next */\nconst setData = (cacheName, cachedData) => {\n  const data = parse(stringify(cachedData));\n  // clean components\n  for (const key in data) {\n    for (let i = 0, len = data[key].length; i < len; i += 1) {\n      if (data[key][i].component) {\n        data[key][i].component = data[key][i].id;\n      }\n    }\n  }\n\n  localStorage.setItem(cacheName, stringify(data));\n};\n\nexport { getData, setData };\n","import ChatBot from './ChatBot';\nimport Loading from './steps_components/common/Loading';\n\nexport default ChatBot;\nexport { Loading };\n"],"sourceRoot":""}